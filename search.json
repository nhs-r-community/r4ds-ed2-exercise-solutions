[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "R for Data Science (2nd edition) Unofficial Exercise Solutions",
    "section": "",
    "text": "1 About this book\nThis unofficial book is inspired by the R for Data Science Exercise Solutions and is an updated version in line with the second edition release of R for Data Science, also referred to in the short form as R4DS, by Hadley Wickham, Mine Çetinkaya-Rundel, and Garrett Grolemund.\nLike the two books mentioned, this is divided into the same sections with the same numbering for exercises. Sections without exercises will appear but with the callout block:\nTo attempt to make this book closely referenced to the original there will be hyperlinks for the R4DS (2e) chapter numbers and these may break if the book changes.\nAll questions from the R4DS book will be quoted:"
  },
  {
    "objectID": "index.html#githubquarto-scripts",
    "href": "index.html#githubquarto-scripts",
    "title": "R for Data Science (2nd edition) Unofficial Exercise Solutions",
    "section": "1.1 GitHub/Quarto scripts",
    "text": "1.1 GitHub/Quarto scripts\nThe book is built using the code names that follow the R4DS names which are listed in the corresponding _quarto.yml."
  },
  {
    "objectID": "index.html#formatting",
    "href": "index.html#formatting",
    "title": "R for Data Science (2nd edition) Unofficial Exercise Solutions",
    "section": "1.2 Formatting",
    "text": "1.2 Formatting\nThis book follows the NHS-R Way code book style with each sentence having a new line following The Turing Way. This will only apply, however, to new content and does not extend to the quoted text from R4DS (2e).\nQuoted text will be exact and so may be in US spelling, whereas new content is likely to be UK English spelling, for example: summarise() instead of summarize."
  },
  {
    "objectID": "intro.html",
    "href": "intro.html",
    "title": "2  Introduction",
    "section": "",
    "text": "Note\n\n\n\nThere are no exercises in this section."
  },
  {
    "objectID": "data-visualize.html#section",
    "href": "data-visualize.html#section",
    "title": "3  Data visualization",
    "section": "2.2.5",
    "text": "2.2.5\n\n\nHow many rows are in penguins?\nHow many columns?\n\n\n\nlibrary(palmerpenguins)\nlibrary(tidyverse)\n\nIt’s possible to see the number of rows and columns by typing:\n\nglimpse(penguins)\n\nRows: 344\nColumns: 8\n$ species           &lt;fct&gt; Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel…\n$ island            &lt;fct&gt; Torgersen, Torgersen, Torgersen, Torgersen, Torgerse…\n$ bill_length_mm    &lt;dbl&gt; 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34.1, …\n$ bill_depth_mm     &lt;dbl&gt; 18.7, 17.4, 18.0, NA, 19.3, 20.6, 17.8, 19.6, 18.1, …\n$ flipper_length_mm &lt;int&gt; 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186…\n$ body_mass_g       &lt;int&gt; 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 3475, …\n$ sex               &lt;fct&gt; male, female, female, NA, female, male, female, male…\n$ year              &lt;int&gt; 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…\n\n\nbut to get a code output:\n\nnrow(penguins)\n\n[1] 344\n\nncol(penguins)\n\n[1] 8\n\n\nand to find the dimensions of an object (the columns and rows):\n\ndim(penguins)\n\n[1] 344   8\n\n\n\n\nWhat does the bill_depth_mm variable in the penguins data frame describe? Read the help for ?penguins to find out.\n\n\nThere is a nice description and picture on Allison Horst’s GitHub.\n\n\nMake a scatterplot of bill_depth_mm vs. bill_length_mm. That is, make a scatterplot with bill_depth_mm on the y-axis and bill_length_mm on the x-axis. Describe the relationship between these two variables.\n\n\nBecause this pipes the data into the chart the parameter data = penguins is redundant. It is commented out just to show where it would be if it hadn’t been piped. By piping the data into the plotting code it means that if you type x = then tab you get a list of the potential columns you can use in the code.\n\npenguins |&gt; \n  ggplot(#data = penguins, \n    mapping = aes(x = bill_depth_mm,\n                  y = bill_length_mm)) +\n  geom_point()\n\nWarning: Removed 2 rows containing missing values (`geom_point()`).\n\n\n\n\n\n\n\nWhat happens if you make a scatterplot of species vs. bill_depth_mm?\n\n\nWhen deciding which data is plotted on the y the suggestion is often to put the first on the y. The following could be either way but it does make it easier to read the species names if they are on the y axis.\n\npenguins |&gt; \n  ggplot(#data = penguins,\n    mapping = aes(x = bill_depth_mm,\n                  y = species)) +\n  geom_point()\n\nWarning: Removed 2 rows containing missing values (`geom_point()`).\n\n\n\n\n\n\nWhat might be a better choice of geom?\n\nDensity plots with a coloured line, this could be replaced with fill = species to move from the line to a more solid chart.\nlinewidth isn’t mentioned in the R4DS and in some code may be lwd or size (although that is deprecated)\n\npenguins |&gt; \n  ggplot(#data = penguins,\n         mapping = aes(x = bill_depth_mm,\n                       colour = species)) +\n  geom_density(linewidth = 2)\n\nWarning: Removed 2 rows containing non-finite values (`stat_density()`).\n\n\n\n\n\nOr a boxplot:\n\npenguins |&gt; \n  ggplot(#data = penguins,\n    mapping = aes(x = bill_depth_mm,\n                  fill = species)) +\n  geom_boxplot()\n\nWarning: Removed 2 rows containing non-finite values (`stat_boxplot()`).\n\n\n\n\n\n\n\nWhy does the following give an error and how would you fix it?\n\n\n\nggplot(data = penguins) + \ngeom_point()\n\nGives the following error:\nError in `geom_point()`:\n! Problem while setting up geom.\nℹ Error occurred in the 1st layer.\nCaused by error in `compute_geom_1()`:\n! `geom_point()` requires the following missing\n  aesthetics: x and y\nRun `rlang::last_trace()` to see where the error occurred.\nThe error is pointing out there are no aesthetics added, including x and y axis information.\n\npenguins |&gt; \n  ggplot(mapping = aes(x = bill_depth_mm,\n                       y = body_mass_g)) + \n  geom_point()\n\nWarning: Removed 2 rows containing missing values (`geom_point()`).\n\n\n\n\n\n\n\nWhat does the na.rm argument do in geom_point()? What is the default value of the argument? Create a scatterplot where you successfully use this argument set to TRUE.\n\n\nThere are missing data points (either on the x or the y) so gives a warning in the console along with the plotted chart:\n\nWarning message: Removed 2 rows containing missing values (geom_point()).\n\nIt is saying that the missing value data is dropped.\nAdding na.rm = TRUE into the geom_point() removes these missing value data poins and so there is no longer a warning printed in the console.\nThe default value of na.rm = is FALSE.\n\npenguins |&gt; \n  ggplot(mapping = aes(x = bill_depth_mm,\n                       y = body_mass_g)) + \n  geom_point(na.rm = TRUE)\n\n\n\n\n\n\nAdd the following caption to the plot you made in the previous exercise: “Data come from the palmerpenguins package.” Hint: Take a look at the documentation for labs().\n\n\n\npenguins |&gt; \n  ggplot(mapping = aes(x = bill_depth_mm,\n                       y = body_mass_g)) + \n  geom_point(na.rm = TRUE) + \n  labs(caption = \"Data come from the palmerpenguins package.\")\n\n\n\n\n\n\nRecreate the following visualization. What aesthetic should bill_depth_mm be mapped to? And should it be mapped at the global level or at the geom level?\n\n\nMapped to the geom_level:\n\npenguins |&gt; \n  ggplot(mapping = aes(x = flipper_length_mm,\n                       y = body_mass_g)) + \n  geom_point(aes(colour = bill_depth_mm),\n             na.rm = TRUE) +\n  geom_smooth(na.rm = TRUE)\n\n`geom_smooth()` using method = 'loess' and formula = 'y ~ x'\n\n\n\n\n\nBut mapping to the global level gives a warning as the colour is also being applied to the geom_smoothand subsequently gets dropped:\n\npenguins |&gt; \n  ggplot(mapping = aes(x = flipper_length_mm,\n                       y = body_mass_g,\n                       colour = bill_depth_mm)) + \n  geom_point(na.rm = TRUE) +\n  geom_smooth(na.rm = TRUE)\n\n`geom_smooth()` using method = 'loess' and formula = 'y ~ x'\n\n\nWarning: The following aesthetics were dropped during statistical transformation: colour\nℹ This can happen when ggplot fails to infer the correct grouping structure in\n  the data.\nℹ Did you forget to specify a `group` aesthetic or to convert a numerical\n  variable into a factor?\n\n\n\n\n\n\nRun this code in your head and predict what the output will look like. Then, run the code in R and check your predictions.\n\nThe chart will have dots with flipper length along the bottom and body mass along the side. The dots will be coloured by the islands and there will be as many curvy lines as there are distinct islands but with no grey extensions/bits to the lines.\n\nggplot(\n  data = penguins,\n  mapping = aes(x = flipper_length_mm, y = body_mass_g, color = island)\n) +\n  geom_point() +\n  geom_smooth(se = FALSE)\n\n`geom_smooth()` using method = 'loess' and formula = 'y ~ x'\n\n\nWarning: Removed 2 rows containing non-finite values (`stat_smooth()`).\n\n\nWarning: Removed 2 rows containing missing values (`geom_point()`).\n\n\n\n\n\n\nWill these two graphs look different? Why/why not?\n\nThey are the same because the first has the data and aes() which will be available to the geom() functions. The second is a repetition of the code leaving the global ggplot() empty but giving the same chart.\n\nggplot(\n  data = penguins,\n  mapping = aes(x = flipper_length_mm, y = body_mass_g)\n) +\n  geom_point() +\n  geom_smooth()\n\n`geom_smooth()` using method = 'loess' and formula = 'y ~ x'\n\n\nWarning: Removed 2 rows containing non-finite values (`stat_smooth()`).\n\n\nWarning: Removed 2 rows containing missing values (`geom_point()`).\n\n\n\n\nggplot() +\n  geom_point(\n    data = penguins,\n    mapping = aes(x = flipper_length_mm, y = body_mass_g)\n  ) +\n  geom_smooth(\n    data = penguins,\n    mapping = aes(x = flipper_length_mm, y = body_mass_g)\n  )\n\n`geom_smooth()` using method = 'loess' and formula = 'y ~ x'\n\n\nWarning: Removed 2 rows containing non-finite values (`stat_smooth()`).\nRemoved 2 rows containing missing values (`geom_point()`)."
  },
  {
    "objectID": "data-visualize.html#section-1",
    "href": "data-visualize.html#section-1",
    "title": "3  Data visualization",
    "section": "2.4.3",
    "text": "2.4.3\n\n\nMake a bar plot of species of penguins, where you assign species to the y aesthetic. How is this plot different?\n\n\nThe plot appears to be ‘flipped’ so the species are appearing on the left side (y axis).\n\nggplot(data = penguins,\n       aes(y = species))+\n  geom_bar()\n\n\n\n\nThis used to be done previously using coord_flip() which is still in {ggplot2}.\n\n\nHow are the following two plots different? Which aesthetic, color or fill, is more useful for changing the color of bars?\n\n\n\nggplot(penguins, aes(x = species)) +\n  geom_bar(color = \"red\")\n\nggplot(penguins, aes(x = species)) +\n  geom_bar(fill = \"red\")\n\n\n\nWhat does the bins argument in geom_histogram() do?\n\n\n\nggplot(penguins, aes(x = body_mass_g)) +\n  geom_histogram()\n\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n\n\nWarning: Removed 2 rows containing non-finite values (`stat_bin()`).\n\n\n\n\n\nBins represents the number of “buckets” that data is cut into, automatically this is 30.\nTo remove the warning message:\n\nggplot(penguins, aes(x = body_mass_g)) +\n  geom_histogram(bins = 10,\n                 na.rm = TRUE)\n\n\n\n\n\n\nMake a histogram of the carat variable in the diamonds dataset that is available when you load the tidyverse package. Experiment with different binwidths. What binwidth reveals the most interesting patterns?\n\n\n\nggplot(diamonds, aes(x = carat)) +\n  geom_histogram()\n\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n\n\n\n\n\nBins changes the “buckets” or the number of cuts made to the data:\n\nggplot(diamonds, aes(x = carat)) +\n  geom_histogram(bins = 3)\n\n\n\n\nWhilst binwidth changes the size of the bin, cuts or “buckets”:\n\nggplot(diamonds, aes(x = carat)) +\n  geom_histogram(binwidth = 0.5)"
  }
]